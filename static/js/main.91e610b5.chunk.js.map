{"version":3,"sources":["endpoints.js","panels/Home.js","App.js","index.js"],"names":["endpoints","getInbox","skip","take","axios","get","params","Home","id","fetchedUser","useState","mails","setMails","page","addInboxOnScroll","a","length","slice","data","concat","useEffect","data1","data2","fetchData","console","log","style","display","justifyContent","alignItems","flexDirection","columnGap","before","appearance","mode","width","onScroll","map","mail","after","dateTime","disabled","src","author","avatar","name","weight","marginRight","title","substr","text","App","scheme","activePanel","bridge","send","ReactDOM","render","document","getElementById"],"mappings":"4OAEMA,EAAY,CAChBC,SAAU,eAACC,EAAD,uDAAQ,EAAGC,EAAX,uDAAkB,EAAlB,OACRC,IAAMC,IAAI,2CAA4C,CACpDC,OAAQ,CACNJ,KAAMA,EACNC,KAAMA,OAKCH,I,OCoGAO,EA5FF,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,GACd,GADoC,EAAlBC,YACQC,mBAAS,KAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAwBF,mBAAS,GAAjC,mBAAOG,EAAP,KAEMC,GAFN,KAEsB,uCAAG,8BAAAC,EAAA,6DACnBJ,EAAMK,QAAU,IAClBJ,EAASD,EAAMM,MAAM,EAAGN,EAAMK,SAFT,SAIAhB,EAAUC,SAAgB,EAAPY,GAJnB,gBAIfK,EAJe,EAIfA,KACRN,EAASD,EAAMQ,OAAOD,IALC,2CAAH,sDAoBtB,OAZAE,qBAAU,WAAM,4CACd,gCAAAL,EAAA,sEAC6Bf,EAAUC,SAAS,EAAG,IADnD,8BACwDiB,KADxD,cACQG,EADR,gBAE6BrB,EAAUC,SAAS,GAAI,IAFpD,8BAEyDiB,KAFzD,OAEQI,EAFR,OAGQJ,EAAOG,EAAMF,OAAOG,GAC1BV,EAASM,GAJX,6CADc,uBAAC,WAAD,wBAQdK,GACAC,QAAQC,IAAId,KACX,IAGD,eAAC,IAAD,CACEe,MAAO,CACLC,QAAS,OACTC,eAAgB,SAChBC,WAAY,UAEdrB,GAAIA,EANN,UAQE,cAAC,IAAD,UACE,eAAC,IAAD,CAAKkB,MAAO,CAAEC,QAAS,OAAQG,cAAe,MAAOC,UAAW,IAAhE,UACE,cAAC,IAAD,kFACA,cAAC,IAAD,CACEC,OAAQ,cAAC,IAAD,IACRC,WAAW,UACXC,KAAK,UAHP,sFASJ,eAAC,IAAD,CAAKR,MAAO,CAAEC,QAAS,OAAQG,cAAe,OAA9C,UACE,cAAC,IAAD,CAAOJ,MAAO,CAAES,MAAO,SACvB,cAAC,IAAD,CACEC,SAAUtB,EACVY,MAAO,CACLC,QAAS,OACTG,cAAe,SACfK,MAAO,OALX,gBAQGxB,QARH,IAQGA,OARH,EAQGA,EAAO0B,KAAI,SAACC,GAAD,OACV,cAAC,IAAD,CAAwBC,MAAOD,EAAKE,SAApC,SACE,sBAAKd,MAAO,CAAEC,QAAS,QAAvB,UACE,cAAC,IAAD,CACED,MAAO,CAAES,MAAO,OAChBM,UAAQ,EACRT,OAAQ,cAAC,IAAD,CAAQU,IAAKJ,EAAKK,OAAOC,SAHnC,SAKGN,EAAKK,OAAOE,OAEf,eAAC,IAAD,CAAKnB,MAAO,CAAEC,QAAS,QAAvB,UACE,eAAC,IAAD,CAAMmB,OAAO,WAAWpB,MAAO,CAAEqB,YAAa,IAA9C,UACGT,EAAKU,MAAMC,OAAO,EAAG,IADxB,SAGA,eAAC,IAAD,WAAOX,EAAKY,KAAKD,OAAO,EAAG,IAA3B,gBAbSX,EAAK9B,gBCxCjB2C,EAvBH,WACV,MAA4BzC,mBAAS,gBAArC,mBAAO0C,EAAP,KACA,GADA,KACsC1C,mBAAS,SAA/C,mBAAO2C,EAAP,UAIA,OAFAjC,qBAAU,cAAU,IAGlB,cAAC,IAAD,CAAgBgC,OAAQA,EAAxB,SACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAMC,YAAaA,EAAnB,SACE,cAAC,EAAD,CAAM7C,GAAG,sBCpBzB8C,IAAOC,KAAK,gBAEZC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.91e610b5.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst endpoints = {\r\n  getInbox: (skip = 0, take = 5) =>\r\n    axios.get(\"https://vk-final-web.herokuapp.com/inbox\", {\r\n      params: {\r\n        skip: skip,\r\n        take: take,\r\n      },\r\n    }),\r\n};\r\n\r\nexport default endpoints;\r\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport {\n  Panel,\n  PanelHeader,\n  RichCell,\n  Button,\n  Group,\n  Cell,\n  Div,\n  Avatar,\n  Text,\n  Title,\n  HorizontalCell,\n} from \"@vkontakte/vkui\";\nimport { Icon28CheckCircleOutline } from \"@vkontakte/icons\";\n\nimport endpoints from \"../endpoints\";\n\nconst Home = ({ id, fetchedUser }) => {\n  const [mails, setMails] = useState([]);\n  const [page, setPage] = useState(4);\n\n  const addInboxOnScroll = async () => {\n    if (mails.length >= 20) {\n      setMails(mails.slice(5, mails.length));\n    }\n    const { data } = await endpoints.getInbox(page * 5);\n    setMails(mails.concat(data));\n  };\n\n  useEffect(() => {\n    async function fetchData() {\n      const data1 = await (await endpoints.getInbox(0, 10)).data;\n      const data2 = await (await endpoints.getInbox(10, 10)).data;\n      const data = data1.concat(data2);\n      setMails(data);\n    }\n\n    fetchData();\n    console.log(mails);\n  }, []);\n\n  return (\n    <Panel\n      style={{\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n      }}\n      id={id}\n    >\n      <PanelHeader>\n        <Div style={{ display: \"flex\", flexDirection: \"row\", columnGap: 40 }}>\n          <Title>Тостер Почта</Title>\n          <Button\n            before={<Icon28CheckCircleOutline />}\n            appearance=\"overlay\"\n            mode=\"outline\"\n          >\n            Выделить все\n          </Button>\n        </Div>\n      </PanelHeader>\n      <Div style={{ display: \"flex\", flexDirection: \"row\" }}>\n        <Group style={{ width: \"15%\" }}></Group>\n        <Group\n          onScroll={addInboxOnScroll}\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            width: \"85%\",\n          }}\n        >\n          {mails?.map((mail) => (\n            <RichCell key={mail.id} after={mail.dateTime}>\n              <div style={{ display: \"flex\" }}>\n                <Cell\n                  style={{ width: \"20%\" }}\n                  disabled\n                  before={<Avatar src={mail.author.avatar} />}\n                >\n                  {mail.author.name}\n                </Cell>\n                <Div style={{ display: \"flex\" }}>\n                  <Text weight=\"semibold\" style={{ marginRight: 16 }}>\n                    {mail.title.substr(0, 30)}...\n                  </Text>\n                  <Text>{mail.text.substr(0, 60)}...</Text>\n                </Div>\n              </div>\n            </RichCell>\n          ))}\n        </Group>\n      </Div>\n    </Panel>\n  );\n};\n\nHome.propTypes = {\n  id: PropTypes.string.isRequired,\n  fetchedUser: PropTypes.shape({\n    photo_200: PropTypes.string,\n    first_name: PropTypes.string,\n    last_name: PropTypes.string,\n    city: PropTypes.shape({\n      title: PropTypes.string,\n    }),\n  }),\n};\n\nexport default Home;\n","import React, { useState, useEffect } from \"react\";\nimport {\n  View,\n  AdaptivityProvider,\n  AppRoot,\n  ConfigProvider,\n  SplitLayout,\n  SplitCol,\n} from \"@vkontakte/vkui\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\n\nimport Home from \"./panels/Home\";\n\nconst App = () => {\n  const [scheme, setScheme] = useState(\"bright_light\");\n  const [activePanel, setActivePanel] = useState(\"home\");\n\n  useEffect(() => {}, []);\n\n  return (\n    <ConfigProvider scheme={scheme}>\n      <AdaptivityProvider>\n        <AppRoot>\n          <SplitLayout>\n            <SplitCol>\n              <View activePanel={activePanel}>\n                <Home id=\"home\" />\n              </View>\n            </SplitCol>\n          </SplitLayout>\n        </AppRoot>\n      </AdaptivityProvider>\n    </ConfigProvider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}